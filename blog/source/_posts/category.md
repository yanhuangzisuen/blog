---
title: Category
date: 2016-07-07 11:39:06
tags: Category
categories : "Objective-C"
---

```objc
// 学习引入：
@interface Person :NSObject -(void)run;
-(void)eat;
-(void)study;
@end -(void)playlol;
```

#### 1、分类的概念：
   * Category：类别、类目、分类。

#### 2、分类的作用
 * 1）将1个类中的不同方法分到多个不同的文件中存储，便于对类进行模块化设计和团队开发。
 * 2）可以在不修改原来类的基础上，为这个类扩充一些方法。
 * 3）注意：
   * 分类中只能增加“方法”，不能增加成员变量。
   * 分类中可以访问原来类中的成员变量。

#### 3、使用分类的目的
 * 1）对现有类进行扩展:
   * 比如,你可以扩展Cocoa touch框架中的类,你在类别中增加的方法会被子类所继承,而且在运行 时跟其他的方法没有区别。
 * 2）作为子类的替代手段:
   * 不需要定义和使用一个子类,你可以通过类别直接向已有的类里增加方法。
 * 3）对类中的方法归类:
   * 利用category把一个庞大的类划分为小块来分别进行开发,从而更好的对类中的方法进行更新和维护。

#### 4、分类的使用流程
* 声明分类-->实现分类-->使用分类
* 注意:分类的命名规则:类名+扩展方法,如“NSString+countNum”。 分类的接口声明与类的定义十分相似,但分类不继承父类,只需要带有一个括号,表明该分类的主要用途。


## 分类（Category）声明和实现

#### 1、声明和实现一个分类

* 在.h文件中,声明分类:
```objc
@interface 类名 (分类名)
//方法;
@end
```
* 说明:
```objc
声明分类格式
1）新添加的方法必须写在 @interface 与 @end 之间
2）ClassName 现有类的类名(要为哪个类扩展方法)。
3）CategoryName 待声明的分类名称
4）NewMethod 新添加的方法
```
##### 注意:
 * 不允许在声明分类的时候定义变量

  ```objc
  @interface Person(sport)
  {
     int _age; // 报错
   }
  - (void)run;
  - (void)jump;

  ```
__在.m文件中(也可以在.h中实现),实现分类:__
```objc
@implementation ClassName(CategoryName) NewMethod
{
......
}
@end
```
* 说明:
 * 实现类别格式
   * 1)新方法的实现必须写在@ implementation与@end之间
   * 2)ClassName 现有类的类名
   * 3)CategoryName 待声明的分类名称
   * 4)NewMethod 新添加的方法的实现

* 也可以通过图形界面生成分类

###### 2、调用分类中的方法
  * 调用分类中的方法与一般方法调用，完全一样（需要导入头文件）

## 分类的注意事项
1. 分类只能增加方法, 不能增加成员变量
2. 可以使用 @property, 此时只会生成setter/getter方法, 不会生成私有变量
3. 如果分类的方法与原有类的方法重名, 那么优先调用分类中的方法, 原有类的方法被屏蔽

## 分类的编译顺序

1. 当分类与主类中都有同一个方法时，优先调用分类中的方法。
2. 当多个分类中都有同样的一个方法时，优先调用最后一个参与编译的分类中的方法。

## `所谓的非正式协议就是分类,即凡是NSObject或其子类Foundation框架中的类,增加的分类,都是非正式协议。`
